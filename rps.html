<!DOCTYPE html>
<script>
	function computerPlay(){
		let myNum = Math.floor(Math.random() * 3);
		if(myNum == 0) return "Rock";
		else if(myNum == 1) return "Paper";
		else return "Scissors";
	}

	function playRound(playerSelection, computerSelection) {
		let pStr = playerSelection.toLowerCase();
		let cStr = computerSelection.toLowerCase();

		if(pStr == cStr) return 2;
		else if(pStr == "rock") {
			if(cStr == "paper") return 0; //"Computer wins! Paper beats rock!\n";
			else if(cStr == "scissors") return 1; //"Player wins! Rock beats scissors!\n";
		}
		else if(pStr == "paper") {
			if(cStr == "rock") return 1; //"Player wins! Paper beats rock!\n";
			else if(cStr == "scissors") return 0; //"Computer wins! Scissors beats paper!\n";
		}
		else if(pStr == "scissors") {
			if(cStr == "rock") return 0; //"Computer wins! Rock beats scissors!\n";
			else if(cStr == "paper") return 1; //"Player wins! Scissors beats paper!\n";
		}
		else return -1;
	}

	function game() {
		let playerScore = 0;
		let computerScore = 0;

		//Prompt user here
		let playerInput = prompt("Rock, paper, or scissors?");

		let playerWon = playRound(playerInput, computerPlay());
		if(playerWon == 1) {
			return 1;
		}
		else if(playerWon == 0) {
			return 0;
		}
		else if(playerWon == 2) {
			return 2;
		}
		else if(playerWon == -1) {
			console.log("Please enter a valid input.");
			game();
		}
	}

	let playerScore = 0;
	let computerScore = 0;

	console.log("Welcome to Rock-Paper-Scissors!\n");

	for(let i=0; i<5; i++) {
		let playerWon = game();
		let roundNum = i+1;

		if(playerWon == 1) {
			let result = "Player won round " + roundNum + "!";
			console.log(result);
			playerScore++;
		}
		else if(playerWon == 0) {
			let result = "Computer won round " + roundNum + "!";
			console.log(result);
			computerScore++;
		}
		else {
			let result = "Tie game on round " + roundNum + "!";
			console.log(result);
		}
	}

	if(playerScore > computerScore) console.log("Player won against Computer! Congrats!");
	else console.log("Computer won against Player! Better luck next time!");
</script>